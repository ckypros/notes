(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(15),o=t.n(a),i=(t(20),t(6)),u=t(3),s=t(0),d=function(e){var n=e.addPerson,t=e.newName,c=e.newNumber,r=e.handleNameChange,a=e.handleNumberChange;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:t,onChange:r}),Object(s.jsx)("br",{}),"number: ",Object(s.jsx)("input",{value:c,onChange:a})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.filter,t=e.handleFilterChange;return Object(s.jsxs)("div",{children:["filter shown with"," ",Object(s.jsx)("input",{value:n,type:"text",onChange:t})]})},j=function(e){var n=e.persons,t=e.onDelete;return Object(s.jsx)("table",{children:Object(s.jsx)("tbody",{children:n.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.number}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){return t(e.id)},children:"delete"})})]},e.name)}))})})},b=t(4),h=t.n(b),f="api/persons",m=function(){return h.a.get(f).then((function(e){return e.data}))},O=function(e){return h.a.post(f,e).then((function(e){return e.data}))},x=function(e,n){return h.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){return h.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},v=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"notification",children:n})},g=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),b=o[0],h=o[1],f=Object(c.useState)(""),g=Object(u.a)(f,2),w=g[0],C=g[1],N=Object(c.useState)(""),y=Object(u.a)(N,2),k=y[0],S=y[1],F=Object(c.useState)(null),P=Object(u.a)(F,2),D=P[0],L=P[1];Object(c.useEffect)((function(){m().then((function(e){r(e)}))}),[]);var T=function(e,n){L(e),setTimeout((function(){L(null)}),n)},B=""===k?t:t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(v,{message:D}),Object(s.jsx)(l,{filter:k,handleFilterChange:function(e){S(e.target.value)}}),Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(d,{addPerson:function(e){if(e.preventDefault(),t.some((function(e){return e.name===b}))){if(window.confirm('"'.concat(b,'" is already added to the phonebook, replace the old number with a new one?'))){var n=t.filter((function(e){return e.name===b}))[0],c=Object(i.a)(Object(i.a)({},n),{},{number:w});x(n.id,c).then((function(e){r(t.map((function(n){return n.name!==b?n:e}))),T("Updated '".concat(n.name,"' in the phonebook"),5e3)})).catch((function(e){T("the person '".concat(n.name," was already deleted from the server"),5e3),r(t.filter((function(e){return e.name!==b}))),h("")}))}}else O({name:b,number:w}).then((function(e){r(t.concat(e))})),h(""),C("")},newName:b,newNumber:w,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){C(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(j,{persons:B,onDelete:function(e){if(t.some((function(n){return n.id===e}))){var n=t.filter((function(n){return n.id===e}))[0];window.confirm('Are you sure you want to delete "'.concat(n.name,'"'))&&p(e).then(r(t.filter((function(n){return n.id!==e})))).catch((function(e){alert("the person '".concat(n.name,"' was already deleted from server"))}))}}})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),w()}},[[40,1,2]]]);
//# sourceMappingURL=main.8705b5a1.chunk.js.map