{"version":3,"sources":["components/PersonsForm.js","components/Filter.js","components/Persons.js","services/personService.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["PersonsForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","filter","handleFilterChange","Persons","persons","onDelete","map","person","name","number","onClick","id","baseURL","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","notificationMessage","setNoficationMessage","useEffect","personService","initialPersons","showNotification","duration","setTimeout","personsToShow","toLowerCase","includes","event","target","preventDefault","some","window","confirm","p","changedPerson","returnedPerson","catch","error","concat","delPerson","alert","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8705b5a1.chunk.js","sourcesContent":["const PersonsForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n        <br />\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonsForm;\n","const Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={filter} type=\"text\" onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","const Persons = ({ persons, onDelete }) => {\n  return (\n    <table>\n      <tbody>\n        {persons.map((person) => (\n          <tr key={person.name}>\n            <td>{person.name}</td>\n            <td>{person.number}</td>\n            <td>\n              <button onClick={() => onDelete(person.id)}>delete</button>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\n\nconst baseURL = 'api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseURL);\n    return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n    const request = axios.post(baseURL, newObject);\n    return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseURL}/${id}`, newObject);\n    return request.then((response) => response.data);\n};\n\nconst del = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`);\n    return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, del };\n","const Notification = ({ message }) => {\n  if (message === null) return null;\n  return <div className=\"notification\">{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport PersonsForm from \"./components/PersonsForm\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/personService\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notificationMessage, setNoficationMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const showNotification = (message, duration) => {\n    setNoficationMessage(message);\n    setTimeout(() => {\n      setNoficationMessage(null);\n    }, duration);\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (persons.some((person) => person.name === newName)) {\n      const isUpdatedNumber = window.confirm(\n        `\"${newName}\" is already added to the phonebook, replace the old number with a new one?`\n      );\n      if (isUpdatedNumber) {\n        const person = persons.filter((p) => p.name === newName)[0];\n        const changedPerson = { ...person, number: newNumber };\n        personService\n          .update(person.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((p) => (p.name !== newName ? p : returnedPerson))\n            );\n            showNotification(`Updated '${person.name}' in the phonebook`, 5000);\n          })\n          .catch((error) => {\n            showNotification(\n              `the person '${person.name} was already deleted from the server`,\n              5000\n            );\n            setPersons(persons.filter((p) => p.name !== newName));\n            setNewName(\"\");\n          });\n      }\n      return;\n    }\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    personService.create(personObject).then((returnedPerson) => {\n      setPersons(persons.concat(returnedPerson));\n    });\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = (id) => {\n    if (persons.some((person) => person.id === id)) {\n      const delPerson = persons.filter((person) => person.id === id)[0];\n      const isConfirmed = window.confirm(\n        `Are you sure you want to delete \"${delPerson.name}\"`\n      );\n      if (isConfirmed) {\n        personService\n          .del(id)\n          .then(setPersons(persons.filter((person) => person.id !== id)))\n          .catch((error) => {\n            alert(\n              `the person '${delPerson.name}' was already deleted from server`\n            );\n          });\n      }\n    }\n  };\n\n  const personsToShow =\n    filter === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h2>add a new</h2>\n      <PersonsForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n\n      <Persons persons={personsToShow} onDelete={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}